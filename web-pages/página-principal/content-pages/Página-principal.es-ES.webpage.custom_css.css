/* ===== AVISO ===== */
#epja-aviso { padding: 32px 16px; display: flex; justify-content: center; background: transparent; }
#epja-aviso .epja-card {
  max-width: 980px; width: 100%; background: #fff; border-radius: 16px;
  box-shadow: 0 10px 24px rgba(0,0,0,.08); padding: 32px 28px;
}
#epja-aviso .epja-title { font-size: clamp(28px,4vw,48px); line-height: 1.15; margin: 0 0 8px; color: #2f2b8f; font-weight: 700; text-align: center; }
#epja-aviso .epja-subtitle { font-size: clamp(16px,2.2vw,22px); line-height: 1.4; margin: 0 0 24px; color: #4a5568; text-align: center; }
#epja-aviso .epja-text { margin-bottom: 20px; }
#epja-aviso .epja-text p { font-size: clamp(16px,2vw,20px); line-height: 1.8; text-align: justify; margin: 0; color: #1a202c; }
#epja-aviso .epja-text strong { font-weight: 800; color: #0b2e8a; }
#epja-aviso .epja-consent { display: flex; align-items: center; gap: 16px; flex-wrap: nowrap; margin-top: 24px; }
#epja-aviso .epja-checkbox { display: inline-flex; align-items: center; gap: 10px; cursor: pointer; user-select: none; font-size: clamp(15px,1.8vw,18px); color: #1a202c; margin: 0; }

/* Checkbox moderno */
#epja-aviso .epja-checkbox input[type="checkbox"]{
  appearance: none; -webkit-appearance: none;
  inline-size: 22px; block-size: 22px; border: 2px solid #a0aec0; border-radius: 6px; background: #fff;
  position: relative; cursor: pointer; transition: all .25s ease; box-shadow: 0 1px 2px rgba(0,0,0,.08);
}
#epja-aviso .epja-checkbox input[type="checkbox"]:hover { border-color: #4f46e5; box-shadow: 0 0 0 3px rgba(79,70,229,.15); }
#epja-aviso .epja-checkbox input[type="checkbox"]:checked { background: #2f2b8f; border-color: #2f2b8f; box-shadow: 0 0 0 3px rgba(47,43,143,.15); }
#epja-aviso .epja-checkbox input[type="checkbox"]::after{
  content:""; position:absolute; top:3px; left:6px; width:6px; height:12px;
  border-right:2px solid #fff; border-bottom:2px solid #fff; transform: rotate(45deg) scale(0); opacity:0; transition: all .25s ease;
}
#epja-aviso .epja-checkbox input[type="checkbox"]:checked::after{ transform: rotate(45deg) scale(1); opacity:1; }

#epja-aviso .epja-help { margin: 0; font-size: 14px; line-height: 1.4; color: #6b7280; white-space: nowrap; font-style: italic; }
#epja-aviso .epja-footer { margin-top: 28px; text-align: center; font-size: 14px; color: #6b7280; }
#epja-aviso.epja-fade-out { opacity: 0; transition: opacity 220ms ease; }
@media (max-width:480px){ #epja-aviso .epja-card{ padding:24px 18px; border-radius:12px; } #epja-aviso .epja-consent{ flex-wrap:wrap; gap:8px; } #epja-aviso .epja-help{ white-space: normal; } }

/* ===== APP / MENÚ LATERAL ===== */
/* 1) Por defecto, app oculta */
#epja-app { display: none; }

/* 2) Al activar, mostrar app (no tocamos nada más del portal) */
body.epja-app-active #epja-app { display: block; }

/* 3) Layout y estilos del shell */
#epja-app { padding: 24px; margin: 32px auto; max-width: 1400px; }
#epja-app .epja-app-shell {
  display: grid; grid-template-columns: 280px 1fr; gap: 24px;
  border-radius: 18px; padding: 24px; background: #f7f8fb; box-shadow: 0 10px 28px rgba(16,24,40,.1);
}

/* Sidebar moderno */
#epja-app .epja-sidebar{
  background: linear-gradient(160deg,#0b2e8a 0%,#2f2b8f 45%,#4f46e5 100%);
  color:#fff; border-radius:16px; padding:24px 20px; display:flex; flex-direction:column;
  box-shadow:0 12px 28px rgba(16,24,40,.2); backdrop-filter:saturate(140%) blur(8px);
}
#epja-app .epja-brand{ display:flex; align-items:baseline; gap:10px; margin:2px 0 14px 2px; }
#epja-app .epja-logo{ display:inline-block; font-weight:800; font-size:18px; line-height:1; padding:6px 10px; border-radius:12px; background:rgba(255,255,255,.14); letter-spacing:.4px; }
#epja-app .epja-brand-text{ font-size:14px; opacity:.9; }
#epja-app .epja-nav{ display:flex; flex-direction:column; gap:12px; margin:16px 0; }
#epja-app .epja-nav-btn{
  -webkit-appearance:none; appearance:none; border:0; outline:none; display:flex; align-items:center; gap:10px; width:100%;
  padding:12px 16px; text-align:left; font-size:15px; font-weight:600; color:#e8eaff; background:rgba(255,255,255,.12);
  border-radius:12px; cursor:pointer; transition:all .2s ease;
}
#epja-app .epja-nav-btn:hover{ background:rgba(255,255,255,.2); transform:translateY(-1px); }
#epja-app .epja-nav-btn.is-active{ background:#fff; color:#0b2e8a; box-shadow:0 4px 10px rgba(0,0,0,.1); }
#epja-app .epja-sidebar-footer{ margin-top:auto; text-align:center; font-size:13px; opacity:.9; padding-top:10px; border-top:1px solid rgba(255,255,255,.25); }

/* Contenido principal */
#epja-app .epja-main{ background:#fff; border-radius:16px; padding:28px; box-shadow:0 6px 20px rgba(0,0,0,.06); }
#epja-app .epja-view.is-hidden{ display:none; }

@media (max-width:900px){
  #epja-app .epja-app-shell{ grid-template-columns:1fr; }
  #epja-app .epja-sidebar{ display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px; }
  #epja-app .epja-nav{ grid-column:1 / -1; overflow-x:auto; padding-bottom:6px; }
}

/* =========================================
   EPJA — Altura del layout y sidebar “largo”
   Pegar al FINAL del CSS
   ========================================= */

/* 1) Variables (ajústalas si tu header/footer son más altos) */
:root{
  --epja-header-h: 64px;   /* alto aproximado del header del portal */
  --epja-footer-h: 56px;   /* alto aproximado del footer del portal */
  --epja-outer-gap: 24px;  /* padding/margen vertical que dejaste a #epja-app */
}

/* 2) El shell ocupa casi toda la pantalla */
#epja-app .epja-app-shell{
  /* Altura mínima calculada: viewport - header - footer - márgenes superiores/inf. del #epja-app */
  min-height: calc(100vh - var(--epja-header-h) - var(--epja-footer-h) - (2 * var(--epja-outer-gap)));
  align-items: stretch; /* hace que las dos columnas tengan la misma altura */
}

/* 3) El sidebar se estira a la altura del shell */
#epja-app .epja-sidebar{
  height: 100%;
  display: flex;          /* lo mantienes en columna */
  flex-direction: column;
}

/* 4) El área principal también ocupa toda la altura disponible */
#epja-app .epja-main{
  min-height: 100%;
}

/* OPCIONAL: si lo quieres todavía más largo sin depender del cálculo,
   puedes forzarlo a, por ejemplo, 85vh. Descomenta esta línea: */
#epja-app .epja-app-shell{ min-height: 105vh; }

/* OPCIONAL “sticky”: que el menú quede fijo al hacer scroll en desktop
   (quítalo si prefieres que ambos crezcan a la par). */
@media (min-width: 901px){
  /* comentar si no quieres sticky */
  /* #epja-app .epja-sidebar{ position: sticky; top: calc(var(--epja-outer-gap)); } */
}